这道题其实是lc221， maximum square area的变形题， 本质也是一道二维DP题，通过观察可以发现我们要求的全为1的正方形的个数和可以分解为以每一个1为右下角的正方形个数的相加。比如例子中[3,3]这个位置可以是边长为1的正方形的右下角，也可以是边长为2的正方形的右下角，也可以边长为3，所以一共有3种可能，最后加3即可，而这个3和以[3,3]为右下角的最大正方形边长相等，这并不是个巧合，而是通用语所有的情况。

而这个最大正方形边长如何求呢，我们发现决定边长的有三个条件，长宽还有对角线，如果用dp来表示最大正方形的边长，那么dp[i][j]决定于dp[i][j-1], dp[i-1][j], dp[i-1][j-1]中的最小值，最终转移方程为

dp[i][j] = min(dp[i-1][j], dp[i][j-1], dp[i-1][j-1])+1

通过转移方程，我们可以求出每个matrix[i][j]等于1时可以组成的正方形数，然后加起来就是最终的答案。