给出一些不同颜色的盒子，盒子的颜色由数字表示，即不同的数字表示不同的颜色。
你将经过若干轮操作去去掉盒子，直到所有的盒子都去掉为止。每一轮你可以移除具有相同颜色的连续 k 个盒子（k >= 1），这样一轮之后你将得到 k*k 个积分。
当你将所有盒子都去掉之后，求你能获得的最大积分和。

 

示例：

输入：boxes = [1,3,2,2,2,3,4,3,1]
输出：23
解释：
[1, 3, 2, 2, 2, 3, 4, 3, 1] 
----> [1, 3, 3, 4, 3, 1] (3*3=9 分) 
----> [1, 3, 3, 3, 1] (1*1=1 分) 
----> [1, 1] (3*3=9 分) 
----> [] (2*2=4 分)

消消乐

还是利用了状态转移，想法比较难想到。有三个变量在dp中

dp[l][r][k] 表示的是从l到r然后r后边有k个和r位置颜色一样的方块所能得到的最大值

最直接的消法就是把从r到最后的k+1个消了，然后再加上前边的所有的分数

dp[l][r][k] = dp[l][r-1][0] + (k+1)^2

但这个不是最优解，有可能在r前有个和r一样的方块然后和r还有后头的k个一起肖更多分，所以要遍历r前边所有的和r上颜色一样的方块，然后比较得出最大值。这个题用DFS从上往下比较容易。